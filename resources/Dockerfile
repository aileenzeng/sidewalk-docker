# This file installs Postgres and Postgis dependencies.
# Source: https://hub.docker.com/r/camptocamp/postgis/

# TODO: Check to see if there's a specific version we need to use for postgres/
# postgis. It looks like some of the versions that we use normally are on the 
# ProjectSidewalk Instructions page. (in postgres.sh)

FROM postgres:9.6
MAINTAINER Camptocamp "info@camptocamp.com"

# Download postgis extensions
RUN apt-get update \
  && apt-get install --no-install-recommends -y postgresql-9.6-postgis-2.3 postgresql-9.6-postgis-2.3-scripts \
  && apt-get clean \
  && rm -rf /var/lib/apt/lists/*

# Move sidewalk.sql to the docker-entrypoint-initdb.d folder -- allows database to 
# be autogenerated (ideally)
COPY ./sidewalk.sql /docker-entrypoint-initdb.d/

